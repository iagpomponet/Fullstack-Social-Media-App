[{"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\App.tsx":"1","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\index.tsx":"2","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\service\\userService.ts":"3","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\service\\UserService.ts":"4","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\service\\client.ts":"5","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\pages\\login\\index.tsx":"6","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\components\\login-form\\styles.ts":"7","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\components\\login-form\\index.tsx":"8","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\globalStyles.ts":"9","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\theme.ts":"10","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\pages\\login\\styles.ts":"11"},{"size":644,"mtime":1607896704054,"results":"12","hashOfConfig":"13"},{"size":145,"mtime":1606166777643,"results":"14","hashOfConfig":"13"},{"size":543,"mtime":1607875342165,"results":"15","hashOfConfig":"13"},{"size":460,"mtime":1607994042543,"results":"16","hashOfConfig":"13"},{"size":190,"mtime":1607888153311,"results":"17","hashOfConfig":"13"},{"size":484,"mtime":1608160751675,"results":"18","hashOfConfig":"13"},{"size":1204,"mtime":1607901828776,"results":"19","hashOfConfig":"13"},{"size":3123,"mtime":1608170166461,"results":"20","hashOfConfig":"13"},{"size":442,"mtime":1607897186429,"results":"21","hashOfConfig":"13"},{"size":211,"mtime":1607898317996,"results":"22","hashOfConfig":"13"},{"size":396,"mtime":1607899764577,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"27"},"1tii71u",{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\App.tsx",["49"],"import React, { useState } from 'react';\nimport { ApolloProvider } from '@apollo/client';\nimport { getUsers } from './service/UserService';\nimport client from './service/client';\nimport LoginPage from './pages/login/index';\nimport GlobalStyle from './globalStyles'\nimport { ThemeProvider } from 'styled-components';\nimport { defaultTheme } from './theme';\n\nfunction App() {\n  const [theme, setTheme] = useState(defaultTheme);\n\n  getUsers();\n\n  return (\n    <ApolloProvider client={client}>\n      <GlobalStyle />\n      <ThemeProvider theme={theme} >\n        <LoginPage />\n      </ThemeProvider>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n",["50","51"],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\index.tsx",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\service\\userService.ts",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\service\\UserService.ts",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\service\\client.ts",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\pages\\login\\index.tsx",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\components\\login-form\\styles.ts",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\components\\login-form\\index.tsx",["52","53","54","55"],"import React, { FunctionComponent, useState } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport * as Styled from './styles';\r\n\r\nimport { ApolloError, gql, useMutation } from '@apollo/client';\r\n\r\nconst LoginForm: FunctionComponent = () => {\r\n  const [ userInput, setUserInput ] = useState({\r\n    email: \"\",\r\n    password: \"\"\r\n  })\r\n\r\n  const handleInputChange = (e) => { \r\n    const { id, value } = e.target;\r\n\r\n    setUserInput(prevState => ({\r\n      ...prevState,\r\n      [id]: value\r\n    }))\r\n  }\r\n\r\n  const Login = (email: string, password: string) => {\r\n\r\n    \r\n\r\n    debugger;\r\n    \r\n  }\r\n\r\n  const validateLogin = (email: string, password: string) => {\r\n    let errors = 0;\r\n\r\n    if(email.trim() == ''){\r\n      errors++;\r\n\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Por favor, digite seu e-mail'\r\n      })\r\n    } else if (password.trim() == '') {\r\n      errors++;\r\n\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Por favor, digite sua senha'\r\n      })\r\n    } else if (!(/^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/).test(email)) {\r\n      errors++;\r\n\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Por favor, digite um e-mail válido'\r\n      })\r\n    }\r\n\r\n    return errors > 0 ? false : true\r\n  }\r\n\r\n  const LOGIN = gql`\r\n        mutation MakeLogin($email: String!, $password: String!){\r\n            login(email: $email, password: $password){\r\n              username\r\n              token\r\n              email\r\n            }\r\n        } \r\n      `\r\n      \r\n  const [login] = useMutation(LOGIN, { \r\n    errorPolicy: \"all\",\r\n  });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = userInput;\r\n\r\n    try {\r\n      if(validateLogin(email, password)){\r\n        const { data, errors } = await login({ variables : { email: email, password: password }});\r\n\r\n        if(data){\r\n          console.log('data :>> ', data);\r\n          const { token } = data?.login;\r\n\r\n          saveUserTokenOnCookie(token);\r\n\r\n        } else if (errors?.length){\r\n          Swal.fire({ \r\n            icon: \"error\",\r\n            \"title\": `${errors[0]?.message}`\r\n          })\r\n        }\r\n      }\r\n    }\r\n    catch(err){\r\n      throw new Error(err);\r\n    }\r\n  }\r\n\r\n  const saveUserTokenOnCookie = (token) => {\r\n    debugger;\r\n    document.cookie = `userAuthToken=${token}`;\r\n  }\r\n\r\n   \r\n\r\n    return <Styled.Form onSubmit={handleSubmit}>\r\n            <Styled.Label htmlFor =\"email\">E-mail</Styled.Label>\r\n            <Styled.Input \r\n                id=\"email\"\r\n                type=\"email\"\r\n                onChange={handleInputChange}\r\n            >\r\n            </Styled.Input>\r\n            <Styled.Label htmlFor =\"password\">Senha</Styled.Label>\r\n            <Styled.Input \r\n              id=\"password\" \r\n              type=\"password\"\r\n              onChange={handleInputChange}\r\n            ></Styled.Input>\r\n            <Styled.NewAccountLink>Não tem uma conta? <strong>Criar nova conta</strong></Styled.NewAccountLink>\r\n            <Styled.Button>Entrar</Styled.Button>\r\n          </Styled.Form>\r\n}\r\n\r\nexport default LoginForm;\r\n\r\n","C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\globalStyles.ts",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\theme.ts",[],"C:\\Users\\HP User\\desktop\\projetos\\Fullstack-Social-Media-App\\front-end\\src\\pages\\login\\styles.ts",[],{"ruleId":"56","severity":1,"message":"57","line":11,"column":17,"nodeType":"58","messageId":"59","endLine":11,"endColumn":25},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"56","severity":1,"message":"64","line":5,"column":10,"nodeType":"58","messageId":"59","endLine":5,"endColumn":21},{"ruleId":"56","severity":1,"message":"65","line":22,"column":9,"nodeType":"58","messageId":"59","endLine":22,"endColumn":14},{"ruleId":"66","severity":1,"message":"67","line":33,"column":21,"nodeType":"68","messageId":"69","endLine":33,"endColumn":23},{"ruleId":"66","severity":1,"message":"67","line":40,"column":32,"nodeType":"68","messageId":"69","endLine":40,"endColumn":34},"@typescript-eslint/no-unused-vars","'setTheme' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["70"],"no-negated-in-lhs",["71"],"'ApolloError' is defined but never used.","'Login' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]